function scrollAnimation(){const e=document.querySelectorAll(".js-scroll"),t=()=>{e.forEach(e=>{((e,t=1)=>e.getBoundingClientRect().top<=(window.innerHeight||document.documentElement.clientHeight)/t)(e,1.25)?e.classList.add("scrolled"):(e=>e.getBoundingClientRect().top>(window.innerHeight||document.documentElement.clientHeight))(e)&&(e=>{e.classList.remove("scrolled")})(e)})};window.addEventListener("scroll",()=>{t()})}function sliderWithIsotope(){let e=new Swiper(".best .best__row",{direction:"horizontal",navigation:{nextEl:".best .arrR",prevEl:".best  .arrL"},spaceBetween:30,autoHeight:!0,breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1201:{slidesPerView:4}}});$(".best__filter button").on("click",(function(){let t=$(this).data("filter-name").toLowerCase();$(".best__filter button"),$(".best__filter button").removeClass("active"),$(this).addClass("active"),"all"==t?($(".best [data-filter]").removeClass("non-swiper-slide").addClass(".best swiper-slide").show(),e.destroy(),e=new Swiper(".best .best__row",{direction:"horizontal",navigation:{nextEl:".best .arrR",prevEl:".best  .arrL"},spaceBetween:30,autoHeight:!0,breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1201:{slidesPerView:4}}})):($(".best .swiper-slide").not("[data-filter='"+t+"']").addClass("non-swiper-slide").removeClass("swiper-slide").hide(10),$("[data-filter='"+t+"']").removeClass("non-swiper-slide").addClass("swiper-slide").attr("style",null).show(),e.destroy(),e=new Swiper(".best .best__row",{direction:"horizontal",slidesPerView:4,navigation:{nextEl:".best .arrR",prevEl:".best  .arrL"},spaceBetween:30,autoHeight:!0,breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1201:{slidesPerView:4}}}))}))}function initSliders(){new Swiper(".spec-offer__row",{direction:"horizontal",slidesPerView:2,slidesPerGroup:2,navigation:{nextEl:".spec-offer  .arrR",prevEl:".spec-offer  .arrL"},spaceBetween:10,breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2,spaceBetween:30}}}),new Swiper(".events .events__carusel",{direction:"horizontal",slidesPerView:4,loop:!0,spaceBetween:28,navigation:{nextEl:".events .arrR",prevEl:".events  .arrL"},breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1201:{slidesPerView:4}}});document.querySelectorAll(".vr-go__sliders .slider").forEach((e,t)=>{let i=`.vr-go__sliders .slider:nth-last-child(${t+=1})`;new Swiper(""+(i+" .slider__carusel"),{direction:"horizontal",navigation:{nextEl:i+" .arrR",prevEl:i+" .arrL"},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2,slidesPerGroup:2}}})})}document.addEventListener("DOMContentLoaded",e=>{document.querySelector(".wrapper").classList.add("loaded"),document.querySelector(".icon-menu").addEventListener("click",e=>{e.target.closest(".icon-menu").classList.toggle("active"),document.querySelector(".header__body").classList.toggle("active"),document.querySelector("body").classList.toggle("lock")}),scrollAnimation(),sliderWithIsotope(),initSliders(),window.addEventListener("load",(function(){swiperMode()})),window.addEventListener("resize",(function(){swiperMode()})),modalActions(),initCursor(),linkTo(),$("#phone").inputmask({mask:"(999) 999-9999"})});let swiper="",swiperSubscribe="",swiperHeadsets="",swiperRules="",init=!1;function swiperMode(){let e=window.matchMedia("(min-width: 0px) and (max-width: 768px)"),t=window.matchMedia("(min-width: 769px) and (max-width: 1024px)"),i=window.matchMedia("(min-width: 1025px)");if(e.matches){if(!init){init=!0,function(){const e=["Супер реалистичный и качественный пространственный 3D звук","Высочайша скорость обработки информации интерфейсом","Самые удобные контроллеры из существующих","Свобода движений: игрок с легкостью может перемещаться на площадке 8 м2.","Реалистичная графика и максимальный угол обзора"];document.querySelectorAll(".power-vr-man-items .dot").forEach((t,i)=>{tippy(`.power-vr-man-items .item:nth-child(${i+1}) .dot`,{content:e[i],arrow:!1})})}(),document.querySelectorAll(".merch__slider, .subscribe__gallery, .rules__slider, .headsets__slider").forEach(e=>e.classList.add("swiper")),document.querySelectorAll(".merch__row, .subscribe__gallery .row, .rules__row, .headsets__row").forEach(e=>e.classList.add("swiper-wrapper")),document.querySelectorAll(".merch .merch__item, .subscribe__gallery .row .item, .rules__row .item, .headsets__item").forEach(e=>e.classList.add("swiper-slide")),swiper=new Swiper(".merch .merch__slider",{direction:"horizontal",navigation:{nextEl:".merch .arrR",prevEl:".merch  .arrL"},breakpoints:{320:{slidesPerView:1,spaceBetween:10}}}),swiperHeadsets=new Swiper(".headsets .headsets__slider",{direction:"horizontal",navigation:{nextEl:".headsets .arrR",prevEl:".headsets .arrL"},breakpoints:{320:{slidesPerView:1,spaceBetween:40}}}),swiperRules=new Swiper(".rules .rules__slider",{direction:"horizontal",navigation:{nextEl:".rules .arrR",prevEl:".rules .arrL"},breakpoints:{320:{slidesPerView:1,spaceBetween:40}}}),swiperSubscribe=new Swiper(".subscribe .subscribe__gallery",{direction:"horizontal",navigation:{nextEl:".subscribe .arrR",prevEl:".subscribe .arrL"},breakpoints:{320:{slidesPerView:1,spaceBetween:10}}})}}else(t.matches||i.matches)&&swiper&&(swiper.destroy(),swiperSubscribe.destroy(),swiperHeadsets.destroy(),swiperRules.destroy(),document.querySelectorAll(".merch__slider, .subscribe__gallery, .rules__slider, .headsets__slider").forEach(e=>e.classList.remove("swiper")),document.querySelectorAll(".merch__row, .subscribe__gallery .row, .rules__row, .headsets__row").forEach(e=>e.classList.remove("swiper-wrapper")),document.querySelectorAll(".merch .merch__item, .subscribe__gallery .row .item, .rules__row .item, .headsets__item").forEach(e=>e.classList.remove("swiper-slide")),init=!1)}function initCursor(){$("body").prepend('<div class="cursor-dot-outline"></div>'),$("body").prepend('<div class="cursor-dot"></div>'),{delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var e=this;document.querySelectorAll("a").forEach((function(t){t.addEventListener("mouseover",(function(){e.cursorEnlarged=!0,e.toggleCursorSize()})),t.addEventListener("mouseout",(function(){e.cursorEnlarged=!1,e.toggleCursorSize()}))})),document.addEventListener("mousedown",(function(){e.cursorEnlarged=!0,e.toggleCursorSize()})),document.addEventListener("mouseup",(function(){e.cursorEnlarged=!1,e.toggleCursorSize()})),document.addEventListener("mousemove",(function(t){e.cursorVisible=!0,e.toggleCursorVisibility(),e.endX=t.clientX,e.endY=t.clientY,e.$dot.style.top=e.endY+"px",e.$dot.style.left=e.endX+"px"})),document.addEventListener("mouseenter",(function(t){e.cursorVisible=!0,e.toggleCursorVisibility(),e.$dot.style.opacity=1,e.$outline.style.opacity=1})),document.addEventListener("mouseleave",(function(t){e.cursorVisible=!0,e.toggleCursorVisibility(),e.$dot.style.opacity=0,e.$outline.style.opacity=0}))},animateDotOutline:function(){this._x+=(this.endX-this._x)/this.delay,this._y+=(this.endY-this._y)/this.delay,this.$outline.style.top=this._y+"px",this.$outline.style.left=this._x+"px",requestAnimationFrame(this.animateDotOutline.bind(this))},toggleCursorSize:function(){this.cursorEnlarged?(this.$dot.style.transform="translate(-50%, -50%) scale(4)",this.$outline.style.transform="translate(-50%, -50%) scale(0)"):(this.$dot.style.transform="translate(-50%, -50%) scale(1)",this.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){this.cursorVisible?(this.$dot.style.opacity=1,this.$outline.style.opacity=1):(this.$dot.style.opacity=0,this.$outline.style.opacity=0)}}.init()}function linkTo(){document.querySelectorAll("[data-href]").forEach(e=>e.addEventListener("click",e=>{window.location.href=""+e.currentTarget.getAttribute("data-href")}))}function modalActions(){document.querySelectorAll("[data-modal]").forEach(e=>{e.addEventListener("click",e=>{document.querySelector(".modal").classList.add("active")})}),document.querySelector("[data-close]").addEventListener("click",e=>{document.querySelector(".modal").classList.remove("active")})}